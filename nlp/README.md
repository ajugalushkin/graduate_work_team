### Поддерживаемые сценарии запросов
* Базовые:
  * Автор фильма: «Алиса, кто автор фильма {название}?» 
  * Количество фильмов автора: «Маруся, сколько фильмов выпустил автор {имя}?»
  * Длительность фильма: «Сири, сколько длится фильм {название}?»
* Дополнительные сценарии:
  * Рейтинг фильма: «Какой рейтинг у фильма {название}?»
  * Жанр фильма: «К какому жанру относится фильм {название}?»
  * Дата выхода: «Когда вышел фильм {название}?»
  * Фильмы по году: «Назови фильмы {год} года»
  * Актеры фильма: «Кто играет в фильме {название}?»

### Логика обработки:
* При получении запроса система определяет:
  * Тип запроса (автор, количество, длительность и т.д.). 
  * Ключевые параметры (название фильма, имя автора, год).
* Формирует запрос к Elasticsearch (ES) в соответствии с шаблоном. 
* Если ES возвращает несколько результатов, система использует первый вариант. 

### Обработка ошибок:
* Если данные не найдены: «Информация по запросу не найдена». 
* При нераспознанном запросе: «Уточните, пожалуйста, вопрос».

### Описание компонентов:
* NLP-обработчик:
  * Анализирует запрос с помощью регулярных выражений:
```
patterns = {
    "author": r"* кто автор фильма (.+)\??",
    "count_movies": r"* сколько фильмов выпустил автор (.+)\??",
    "duration": r"* сколько длится фильм (.+)\??",
    "rating": r"* какой рейтинг у фильма (.+)\??",
    "genre": r"* к какому жанру относится фильм (.+)\??"
}
```
  * Извлекает сущности (названия, имена) из запроса.

* Elasticsearch-интерфейс:
  * Генерирует ES-запросы на основе типа запроса. Пример для поиска автора:
```
{
  "query": {
    "match": {
      "title": "{название_фильма}"
    }
  },
  "_source": ["director"]
}
```
* Поля в индексе ES: title, director, duration, rating, year, actors.

### Формат ответа:
```
{
  "response": {
    "text": "Фильм 'Интерстеллар' длится 169 минут",
    "tts": "Фильм Интерстеллар длится 1 час 49 минут."
  }
}
```