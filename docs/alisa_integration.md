
# Интеграция с Алисой

## Переходим в Яндекс Диалоги

[https://i.postimg.cc/W4q79Mds/alice.png](https://i.postimg.cc/W4q79Mds/alice.png)

Тут необходимо создать навык.

**Вебхук URL** — наша ручка, куда стучится Алиса. Соответственно, для тестов нужно будет захоститься в облаке.

Кроме всего прочего, нам нужен **Nginx** и **Certbot** для SSL, потому что вебхук может использовать только схему **https**.

---

## Что пишет сама Алиса про себя

### Простая интеграция с Алисой

#### Что такое интеграция с Алисой

Интеграция с Алисой — это процесс создания навыка для голосового помощника, который позволяет пользователям взаимодействовать с вашим сервисом через голосовые команды.

---

## Необходимые инструменты

- Яндекс.Диалоги — платформа для создания навыков  
- API-ключ от Яндекса  
- Базовые знания Python или Node.js  

---

## Пошаговая инструкция

### 1. Регистрация навыка

- Перейдите на [Яндекс Диалоги](https://dialogs.yandex.ru/developer/)
- Нажмите **«Создать навык»**
- Заполните основную информацию
- Сохраните полученный API-ключ

### 2. Настройка вебхука

- Создайте сервер, который будет обрабатывать запросы
- Настройте HTTPS-соединение
- Укажите URL вашего сервера в настройках навыка

---

## Базовая структура кода

```python
from flask import Flask, request, jsonify
import logging

app = Flask(__name__)

@app.route('/webhook', methods=['POST'])
def webhook():
    request_id = request.json['request_id']
    session = request.json['session']

    # Обрабатываем запрос
    if 'query' in session:
        response = {
            "version": request.json['version'],
            "session": session,
            "response": {
                "text": "Привет! Я ваш новый навык.",
                "end_session": False
            }
        }
    else:
        response = {
            "version": request.json['version'],
            "session": session,
            "response": {
                "text": "Повторите, пожалуйста.",
                "end_session": False
            }
        }

    return jsonify(response)

if __name__ == '__main__':
    app.run(port=5000)
```

---

## Тестирование навыка

- Запустите локальный сервер  
- Проверьте работу через эмулятор  
- Протестируйте голосовые команды  

---

## Основные компоненты ответа

Структура ответа должна включать:

- Версию протокола  
- Информацию о сессии  
- Параметры ответа (текст, кнопки, окончание сессии)  

---

## Полезные советы

- Начните с простого функционала  
- Используйте валидацию входных данных  
- Добавьте обработку ошибок  
- Тестируйте на разных устройствах  
- Документируйте ваш код  

---

После успешного тестирования вы можете отправить навык на модерацию в Яндекс для публикации в каталоге навыков.
